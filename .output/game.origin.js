var gameOrigin=function(t){"use strict";class e{static test(){console.log("这就是一个测试")}}const i=new class{constructor(){let t=document.getElementById("2d");this.context2d=t.getContext("2d");let e=document.getElementById("bitmap");this.contextBitmap=e.getContext("bitmaprenderer");let i=this.webGLcanvas=document.getElementById("3d");this.contextWebgl2=i.getContext("webgl2"),this.contextWebgl2||(this.contextWebgl=i.getContext("webgl")),i.onmousedown=this.ClickWebGLCanvas.bind(this)}ClickWebGLCanvas(t){console.log("Click position x:"+t.clientX+" y:"+t.clientY);let e=t.clientX,i=t.clientY,n=t.target.getBoundingClientRect();e=(e-n.left-this.webGLcanvas.height/2)/(this.webGLcanvas.height/2),i=(this.webGLcanvas.width/2-(i-n.top))/(this.webGLcanvas.width/2),this.Point2(e,i,0)}GetWebglContext(){return this.contextWebgl2||this.contextWebgl}initShaders(t,e,i){let n=t.createShader(t.VERTEX_SHADER);t.shaderSource(n,e),t.compileShader(n);let o=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(o,i),t.compileShader(o);let a=t.createProgram();return t.attachShader(a,n),t.attachShader(a,o),t.linkProgram(a),t.useProgram(a),a}DrawRectangle(){this.context2d.fillStyle="rgba(0,0,255,1.0)",this.context2d.fillRect(120,10,150,150)}ClearCanvas(){this.GetWebglContext().clearColor(0,0,0,1),this.GetWebglContext().clear(this.contextWebgl2.COLOR_BUFFER_BIT)}Point(){this.initShaders(this.GetWebglContext(),"void main(){\n                gl_Position=vec4(0.0,0.0,0.0,1.0);\n                gl_PointSize=10.0;\n        }","void main(){\n            gl_FragColor=vec4(1.0,0.0,0.0,1.0);\n        }"),this.ClearCanvas(),this.GetWebglContext().drawArrays(this.GetWebglContext().POINTS,0,1)}Point2(t=0,e=.5,i=0){let n=this.initShaders(this.GetWebglContext(),"attribute vec4 a_Position;\n        void main(){\n            gl_Position = a_Position;\n            gl_PointSize = 10.0;\n        }","void main(){\n            gl_FragColor=vec4(1.0,0.0,0.0,1.0);\n        }"),o=this.GetWebglContext().getAttribLocation(n,"a_Position");o<0?console.log("Failed to get the store location of a_Position"):(this.GetWebglContext().vertexAttrib3f(o,t,e,i),this.ClearCanvas(),this.GetWebglContext().drawArrays(this.GetWebglContext().POINTS,0,1))}Point3(){let t=this.initShaders(this.GetWebglContext(),"void main(){\n            gl_Position=vec4(0.0,0.0,0.0,1.0);\n            gl_PointSize=10.0;\n        }","precision mediump float;\n        uniform vec4 u_FragColor;\n        void main(){\n            gl_FragColor=u_FragColor;\n        }"),e=this.GetWebglContext().getUniformLocation(t,"u_FragColor");this.GetWebglContext().uniform4f(e,0,1,0,1),this.ClearCanvas(),this.GetWebglContext().drawArrays(this.GetWebglContext().POINTS,0,1)}DrawMultiPoint(){let t=this.initShaders(this.GetWebglContext(),"attribute vec4 a_Position;\n        void main(){\n            gl_Position = a_Position;\n            gl_PointSize = 10.0;\n        }","void main(){\n            gl_FragColor=vec4(1.0,0.0,0.0,1.0);\n        }"),e=this.GetWebglContext().getAttribLocation(t,"a_Position");e<0?console.log("Failed to get the store location of a_Position"):(this.ClearCanvas(),this.GetWebglContext().vertexAttrib3f(e,0,0,0),this.GetWebglContext().drawArrays(this.GetWebglContext().POINTS,0,1),this.GetWebglContext().vertexAttrib3f(e,0,.5,0),this.GetWebglContext().drawArrays(this.GetWebglContext().POINTS,0,1),this.GetWebglContext().vertexAttrib3f(e,.5,0,0),this.GetWebglContext().drawArrays(this.GetWebglContext().POINTS,0,1))}DrawMultiPoint2(){let t=this.initShaders(this.GetWebglContext(),"attribute vec4 a_Position;\n        void main(){\n            gl_Position = a_Position;\n            gl_PointSize = 10.0;\n        }","void main(){\n            gl_FragColor=vec4(1.0,0.0,0.0,1.0);\n        }"),e=new Float32Array([0,.5,-.5,-.5,.5,-.5]),i=this.GetWebglContext().createBuffer();this.GetWebglContext().bindBuffer(this.GetWebglContext().ARRAY_BUFFER,i),this.GetWebglContext().bufferData(this.GetWebglContext().ARRAY_BUFFER,e,this.GetWebglContext().STATIC_DRAW);let n=this.GetWebglContext().getAttribLocation(t,"a_Position");this.GetWebglContext().vertexAttribPointer(n,2,this.GetWebglContext().FLOAT,!1,0,0),this.GetWebglContext().enableVertexAttribArray(n),this.ClearCanvas(),this.GetWebglContext().drawArrays(this.GetWebglContext().POINTS,0,3)}DrawTriangles(){let t=this.initShaders(this.GetWebglContext(),"attribute vec4 a_Position;\n        void main(){\n            gl_Position = a_Position;\n        }","void main(){\n            gl_FragColor=vec4(1.0,0.0,0.0,1.0);\n        }"),e=new Float32Array([0,.5,-.5,-.5,.5,-.5]),i=this.GetWebglContext().createBuffer();this.GetWebglContext().bindBuffer(this.GetWebglContext().ARRAY_BUFFER,i),this.GetWebglContext().bufferData(this.GetWebglContext().ARRAY_BUFFER,e,this.GetWebglContext().STATIC_DRAW);let n=this.GetWebglContext().getAttribLocation(t,"a_Position");this.GetWebglContext().vertexAttribPointer(n,2,this.GetWebglContext().FLOAT,!1,0,0),this.GetWebglContext().enableVertexAttribArray(n),this.ClearCanvas(),this.GetWebglContext().drawArrays(this.GetWebglContext().TRIANGLES,0,3)}};return i.DrawRectangle(),i.DrawTriangles(),e.test(),t.Test=e,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t}({});
